{% extends 'base.html' %}
{% block content %}

<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
  <a href="{{ url_for('main.products') }}" style="text-decoration: none;">
    ‚Üê –ù–∞–∑–∞–¥ –≤ –∫–∞—Ç–∞–ª–æ–≥
  </a>

  <div>
    <span>–ü—Ä–æ—Ñ–∏–ª—å: {{ current_user.username }}</span>
    |
    <a href="{{ url_for('main.logout') }}">–í—ã–π—Ç–∏</a>
  </div>
</div>

<h2 style="text-align: center;">{{ category.name }}</h2>

<div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 20px;">
  {% for product in products %}
    <div style="width: 250px; border-radius: 16px; background: #f9f9f9; box-shadow: 0 2px 5px rgba(0,0,0,0.1);
                overflow: hidden; padding: 10px; text-decoration: none; color: inherit;">

      <a href="{{ url_for('main.product_detail', product_id=product.id) }}"
         style="text-decoration: none; color: inherit;">
        <img src="{{ product.image_url or '/static/default.jpg' }}" alt="img"
             style="width: 100%; height: 200px; object-fit: cover; border-radius: 12px;">
        <h4>{{ product.name }}</h4>
      </a>

      <p style="margin: 0;">–ü–æ—Å—Ç–∞–≤—â–∏–∫: {{ product.supplier_name or "‚Äî" }}</p>
      <p style="margin: 0;"><b>{{ product.price }} ‚ÇΩ</b></p>
      <p style="margin: 0;">‚≠ê {{ product.rating or 0 }}/5</p>

      <div style="margin-top: 8px; display: flex; justify-content: space-between;">
        <button type="button">ü§ç</button>
        <button type="button">üîí –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
      </div>
    </div>
  {% endfor %}
</div>

{% endblock %}
